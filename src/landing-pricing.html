<!--
@license
-Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../bower_components/typed-text/typed-text.html">
<link rel="import" href="../bower_components/paper-styles/shadow.html">
<link rel="import" href="../bower_components/paper-tooltip/paper-tooltip.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-icons/hardware-icons.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">

<link rel="import" href="shared-styles.html">
<link rel="import" href="landing-faq.html">

<dom-module id="landing-pricing">
    <template>
        <custom-style>
            <style is="custom-style" include="iron-flex"></style>
        </custom-style>
        <style include="shared-styles"></style>
        <style>
        :host {
            --paper-tooltip: {
                font-size: 14px;
                line-height: 24px;
            }
        }
        :host paper-tooltip {
            max-width: 500px;
        }

        span#vcpus, span#datapoints, span#rulechecks, span#apirequests, span#retention {
            border-bottom: 1px dashed #999;
        }

        paper-material {
            @apply(--shadow-elevation-2dp);
        }
        
        .hero {
            padding: 48px 0;
        }
        
        :host {
            display: block;
        }
        
        .text-center {
            text-align: center;
        }
        
        paper-button {
            background-color: #0099cc !important;
            color: #fff;
            font-size: 18px;
            height: 54px;
            padding: 0 2rem !important;
            margin: 0 40px 40px !important;
            font-weight: 500;
        }
        
        a {
            text-decoration: none;
        }
        
        .col {
            width: 50%;
            box-sizing: border-box;
        }
        
        .pad {
            padding: 16px;
        }
        
        #placeholder {
            opacity: 0;
            background-color: grey;
            @apply(--layout-fit);
            z-index: -1;
        }
        
        .plan {
            background-color: #fff;
            margin-bottom: 50px;
            overflow: auto;
            @apply(--shadow-elevation-4dp);
        }

        .plan, .plan > * {
            box-sizing: border-box;
            margin: 0;
        }

        .title {
            color: #fff;
            text-transform: uppercase;
            padding: 20px 0;
            font-size: 18px;
        }

        .plan paper-button {
            margin: 0 !important;
            font-size: 14px;
            height: 2rem;
            width: auto;
        }

        .bg-0 {
            background-color: #999;
        }
        
        .bg-1 {
            background-color: #777;
        }
        
        .bg-2 {
            background-color: #555;
        }
        
        .bg-3 {
            background-color: #222;
        }
        
        .plan-body-item {
            padding: 30px 10px 50px 10px;
        }
        
        @media only screen and (max-width: 600px) {
            .plan-body-item {
                min-height: 50px;
            }
        }
        
        .plan-body-item + .plan-body-item {
            border-top: 1px solid #d4d4d4;
        }
        
        .plan-body-item:last-child {
            border-bottom: 1px solid #d4d4d4;
        }
        
        .plan-body-item.highlight {
            background-color: #f2f2f2;
        }
        
        .plan-body-item * {
            width: 100%;
        }

        .plan-body-item:not(:first-child) {
            padding: 0 10px;
        }

        .plan-body-item:last-child p {
            font-weight: bold;
        }
        
        .valign {
            display: block;
        }
        
        .price {
            font-weight: 700;
            line-height: 1;
            padding: 0;
            margin: 8px;
        }
        
        .price sub,
        .price sup {
            font-size: 18px;
            font-weight: 300;
            vertical-align: middle;
        }
        
        .price sup {
            font-size: 24px;
            padding: 0 5px;
        }
        
        paper-button#enterpriseBtn {
            background-color: #4caf50;
            /*green*/
            display: block-inline;
            line-height: 54px;
            margin-left: 0 !important;
            margin-right: 0 !important;
        }
        ul {
            padding: 0;
            margin: 0;
        }
        ul li {
            margin-left: 15px;
            clear: both;
            list-style: none;
        }
        .block-center {
            margin: 0 auto;
        }
        .payg-rates {

        }
        .payg-rate {
            justify-content: center;
        }
        .plus-rate > span {
            background-color: #424242;
            color: #fff;
            border-radius: 50%;
            padding: 8px;
            font-weight: bold;
            font-size: 1.2em;
            text-align: center;
            flex: none;
            display: block;
            margin: 0 auto;
            width: 52px;
            height: 52px;
            line-height: 52px;
        }
        .plus-rate .plus {
            font-weight: normal;
            font-size: 0.8em;
        }
        .plus-per {
            text-align: center;
        }
        @media screen and (max-width: 768px){
            .includes > div {
                text-align: center;
            }
            .includes ul, .includes li {
                margin: 0;
                padding: 0;
            }
        }

        p.free {
            max-width: 540px;
            margin: 32px auto;
        }
        </style>
        <div id="placeholder"></div>
        <div id="container">
            <div class="section grey">
                <div class="hero text-center">
                    <h2>Hosted Edition Pricing</h2>
                    <p class="free"><strong>FREE</strong> for up to 10 <span id="vcpus">vCPUs</span>, 1M <span id="datapoints">datapoints/day</span>, 10k <span id="rulechecks">rule checks/day</span>, 10k <span id="apirequests">API requests/day</span>, 1 month <span id="retention">retention</span>.</p>
                    <paper-tooltip for="vcpus" animation-delay="0" position="top">Total sum of physical and virtual processor cores under management.</paper-tooltip>
                    <paper-tooltip for="datapoints" animation-delay="0" position="top">Incoming metric samples and log entries.</paper-tooltip>
                    <paper-tooltip for="rulechecks" animation-delay="0" position="top">Evaluations of conditions that trigger alerts or automated actions.</paper-tooltip>
                    <paper-tooltip for="apirequests" animation-delay="0" position="top">Invokations of the Mist.io API by any member of your organization.</paper-tooltip>
                    <paper-tooltip for="retention" animation-delay="0" position="top">Historic data within the retention window will be accesible.</paper-tooltip>
                    <a aria-label="Get started" href="/sign-up" tabindex="-1">
                        <paper-button raised on-tap="_signUpClick" id="signUpBtn1">Sign up for free</paper-button>
                    </a>
                </div>
            </div>

            <div class="section white">
                <div class="contains">
                    <div class="row text-center">
                        <h2 class="decorated row">Pay As You Go rates</h2>
                    </div>

                    <p class="text-center">
                        Rates apply if free tier limits are exceeded. High watermark, pro-rated daily.
                    </p>

                    <div class="grid-row payg-rates">
                        <div class="xs6 s3 m3 l3 margin-bottom payg-rate">
                            <div class="plus-rate"><span><sup>$</sup>2<span class="plus"><sub>/mo</span></sub></span></div>
                            <div class="plus-per"><sub>per additional</sub><br/>vCPU</div>
                        </div>
                        <div class="xs6 s3 m3 l3 margin-bottom payg-rate">
                            <div class="plus-rate"><span><sup>$</sup>5<span class="plus"><sub>/mo</span></sub></span></div>
                            <div class="plus-per"><sub>per additional</sub><br/>1M datapoints/day</div>
                        </div>
                        <div class="xs6 s3 m3 l3 margin-bottom payg-rate">
                            <div class="plus-rate"><span><sup>$</sup>5<span class="plus"><sub>/mo</span></sub></span></div>
                            <div class="plus-per"><sub>per additional</sub><br/>100k rule checks/day</div>
                        </div>
                        <div class="xs6 s3 m3 l3 margin-bottom payg-rate">
                            <div class="plus-rate"><span><sup>$</sup>5<span class="plus"><sub>/mo</span></sub></span></div>
                            <div class="plus-per"><sub>per additional</sub><br/>1M API requests/day</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section grey">
                <div class="contains">
                    <div class="row text-center">
                        <h2 class="decorated row">Prepaid Plans</h2>
                    </div>
                    <div class="grid-row">

                        <div class="xs12 s4 m4 l4 margin-bottom">
                            <div class="plan text-center">
                                <div class$="[[_computeClass(1)]]">
                                    Small
                                </div>
                                <div class="plan-body">
                                    <div class="plan-body-item valign-wrapper">
                                        <div class="valign">
                                            <h2 class="price"><sup>$</sup>200<sub>/mo.</sub></h2>
                                            <!-- <a aria-label="Purchase small" href="/sign-up?plan=Small" tabindex="-1">
                                                <paper-button raised on-tap="_purchaseSmallClick">Purchase</paper-button>
                                            </a> -->
                                        </div>
                                    </div>
                                    <div class="plan-body-item valign-wrapper">
                                        <p class="valign">200 vCPUs</p>
                                    </div>
                                    <div class="plan-body-item valign-wrapper">
                                        <p class="valign">20M datapoints/day</p>
                                    </div>
                                    <div class="plan-body-item valign-wrapper">
                                        <p class="valign">100k rule checks/day</p>
                                    </div>
                                    <div class="plan-body-item valign-wrapper">
                                        <p class="valign">3 month retention</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="xs12 s4 m4 l4 margin-bottom">
                            <div class="plan text-center">
                                <div class$="[[_computeClass(2)]]">
                                    Medium
                                </div>
                                <div class="plan-body">
                                    <div class="plan-body-item valign-wrapper">
                                        <div class="valign">
                                            <h2 class="price"><sup>$</sup>900<sub>/mo.</sub></h2>
                                            <!-- <a aria-label="Purchase small" href="/sign-up?plan=Medium" tabindex="-1">
                                                <paper-button raised on-tap="_purchaseMediumClick">Purchase</paper-button>
                                            </a> -->
                                        </div>
                                    </div>
                                    <div class="plan-body-item valign-wrapper">
                                        <p class="valign">1k vCPUs</p>
                                    </div>
                                    <div class="plan-body-item valign-wrapper">
                                        <p class="valign">100M datapoints/day</p>
                                    </div>
                                    <div class="plan-body-item valign-wrapper">
                                        <p class="valign">1M rule checks/day</p>
                                    </div>
                                    <div class="plan-body-item valign-wrapper">
                                        <p class="valign">1 year retention</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="xs12 s4 m4 l4 margin-bottom">
                            <div class="plan text-center">
                                <div class$="[[_computeClass(3)]]">
                                    Large
                                </div>
                                <div class="plan-body">
                                    <div class="plan-body-item valign-wrapper">
                                        <div class="valign">
                                            <h2 class="price"><sup>$</sup>3,000<sub>/mo.</sub></h2>
                                            <!-- <a aria-label="Purchase small" href="/sign-up?plan=Large" tabindex="-1">
                                                <paper-button raised on-tap="_purchaseLargeClick">Purchase</paper-button>
                                            </a> -->
                                        </div>
                                    </div>
                                    <div class="plan-body-item valign-wrapper">
                                        <p class="valign">10k vCPUs</p>
                                    </div>
                                    <div class="plan-body-item valign-wrapper">
                                        <p class="valign">1B datapoints/day</p>
                                    </div>
                                    <div class="plan-body-item valign-wrapper">
                                        <p class="valign">10M rule checks/day</p>
                                    </div>
                                    <div class="plan-body-item valign-wrapper">
                                        <p class="valign">3 year retention</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row text-center">
                       <sub> * Pay As You Go rates apply if limits exceeded </sub>
                    </div>

                </div>
            </div>

            <div class="section white">
                <div class="contains">

                    <div class="row text-center">
                        <h2 class="decorated row">All Plans Include</h2>
                    </div>
                    <div class="grid-row includes">
                        <div class="xs12 s6 m3 l3 margin-bottom padding-bottom">
                            <ul>
                                <li>
                                    <iron-icon icon="done"></iron-icon> Cost Insights</li>
                                <li>
                                    <iron-icon icon="done"></iron-icon> Inventory Dashboard</li>
                                <li>
                                    <iron-icon icon="done"></iron-icon> RBAC</li>
                            </ul>
                        </div>
                        <div class="xs12 s6 m3 l3 margin-bottom padding-bottom">
                            <ul>
                                <li>
                                    <iron-icon icon="done"></iron-icon> Monitoring &amp; Alerting</li>
                                <li>
                                    <iron-icon icon="done"></iron-icon> VPN </li>
                                <li>
                                    <iron-icon icon="done"></iron-icon> Scheduling</li>
                            </ul>
                        </div>
                        <div class="xs12 s6 m3 l3 margin-bottom padding-bottom">
                            <ul>
                                <li>
                                    <iron-icon icon="done"></iron-icon> Keys</li>
                                <li>
                                    <iron-icon icon="done"></iron-icon> Orchestration</li>
                                <li>
                                    <iron-icon icon="done"></iron-icon> Scripting</li>
                            </ul>
                        </div>
                        <div class="xs12 s6 m3 l3 margin-bottom padding-bottom">
                            <ul>
                                <li>
                                    <iron-icon icon="done"></iron-icon> Audit Logs</li>
                                <li>
                                    <iron-icon icon="done"></iron-icon> Machine Actions</li>
                                <li>
                                    <iron-icon icon="done"></iron-icon> API access</li>
                            </ul>
                        </div>
                    </div>

                    <div class="row text-center">
                        <a aria-label="Get started" href="/sign-up" tabindex="-1">
                            <paper-button raised on-tap="_signUpClick2" id="signUpBtn2">Sign up for free</paper-button>
                        </a>
                    </div>

                </div>
            </div>
            <div class="section dark">
                <div class="contains">
                    <div class="row text-center">
                        <h2 class="decorated">Need it On Premises?</h2>
                    </div>
                    <div class="grid-row">
                        <div class="xs12 s12 m12 l12 text-center">
                            <p>If you are looking for an on premises solution, check out the <strong>Community Edition (CE)</strong> and the <strong>Enterprise Edition (EE)</strong>.</p>
                            <a aria-label="Mist.io editions" href="/get-started" tabindex="-1">
                                <paper-button raised on-tap="_getStartedClick">Mist.io editions</paper-button>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section grey">
                <div class="contains">
                    <div class="row text-center">
                        <h2 class="decorated row">Pricing FAQ</h2>
                    </div>
                    <landing-faq faq="[[data.faq]]"></landing-faq>
                </div>
            </div>
        </div>
    </template>
    <script>
    Polymer({

        is: 'landing-pricing',

        properties: {
            categories: {
                type: Array
            },

            data: {
                type: Object,
                notify: true
            },

            visible: {
                type: Boolean,
                observer: '_visibleChanged'
            }

        },

        attached: function() {

        },

        _visibleChanged: function(visible) {
            if (visible) {
                this.fire('change-section', {
                    title: 'Pricing'
                });
            }
        },

        _signUpClick: function(event) {
            window.scrollTo(0, 0);
            this.fire('user-action', 'sign up button 1 click in pricing');
        },

        _signUpClick2: function(event) {
            window.scrollTo(0, 0);
            this.fire('user-action', 'sign up button 2 click in pricing');
        },

        _getStartedClick: function() {
            window.scrollTo(0, 0);
            this.fire('user-action', 'Mist.io editions button in pricing page');
        },

        _requestInfoEnterprise: function(event) {
            window.scrollTo(0, 0);
            this.fire('user-action', 'request info for enterprise plan in pricing');
        },

        _purchaseSmallClick: function(event) {
            window.scrollTo(0, 0);
            this.fire('user-action', 'purchase small plan click in pricing');
        },

        _purchaseMediumClick: function(event) {
            window.scrollTo(0, 0);
            this.fire('user-action', 'purchase medium plan click in pricing');
        },

        _purchaseLargeClick: function(event) {
            window.scrollTo(0, 0);
            this.fire('user-action', 'purchase large plan click in pricing');
        },

        _computeClass: function(index) {
            return "bg-" + index + " title";
        }
    });
    </script>
</dom-module>
